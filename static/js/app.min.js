!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){require("./lib/ajax.js");console.log("starting output")},{"./lib/ajax.js":2}],2:[function(require,module,exports){var ajax=void $(document).ready(function(){var params,isSet,sendRequest=function(ext,t,cb){var dt=JSON.stringify(t);axios.post(ext,dt).then(cb).catch(function(error){console.log(error)})},makeRequest=function(u,t,m){sendRequest("/poster",params={url:u,type:t,method:m},function(response){var result,display,items,res=response.data;console.log("returned from /poster"),"xml"===params.type&&(result=res,display=$("#display_tb"),items="","flat-xml"===params.method||"deep-xml"===params.method?(items+='<table id="fancytable" class="display"><col width="35%"><col width="65%"><thead><tr><th>Title</th><th>Keywords</th></tr></thead><tbody>',$.each(result,function(i,v){items+='<tr><td><a href="'+v.Location+'" target="_blank">'+v.Title+"</a></td><td>"+v.Keyword+"</td></tr>"}),items+="</tbody></table>"):"raw-xml"===params.method&&(items+='<textarea style="width: 100%; min-height: 500px;">'+result[0]+"</textarea>"),display.html(items))})},makeListRequest=function(){var ext,cb;ext="/lister?list=bigList",cb=function(response){var result,display,items,res=response.data;result=res.Outlets,display=$("#display_tb"),items="",items+='<table id="fancytable" class="display"><col width="5%"><col width="30%"><col width="50%"><col width="15%"><thead><tr><th>act</th><th>Name</th><th>Url</th><th>Type/Method</th></tr></thead><tbody>',$.each(result,function(i,v){items+='<tr><td><input type="button" name="item-parse" value="parse" /><input type="button" name="item-edit" value="edit" /></td><td>'+v.Name+'</td><td><a href="'+v.Url+'" target="_blank">'+v.Url+"</a></td><td>"+v.Type+"<br>"+v.Method+"</td></tr>"}),items+="</tbody></table>",display.html(items)},console.log(ext),axios.get(ext).then(cb).catch(function(error){console.log(error)})},addItemRequest=function(params){sendRequest("/items",params,function(response){var display=$("#display_tb"),res=response.data;console.dir(res),display.text("Go says: status ok")})};isSet=!1,$("#resource-method").submit(function(e){var url,type,method,name="";url=$("#inp_url").val(),type=$("input[name=rsource_typ]:checked").val(),e.preventDefault(),e.stopImmediatePropagation(),name="xml"===type?"xml_typ":"http_typ",method=$("input[name="+name+"]:checked").val(),""!==url&&""!==type&&""!==method?makeRequest(url,type,method):(alert("Please select all fields."),console.log("required fields empty!"))}),$("input[name=rsource_typ]").on("click",function(){"xml"===$("input[name=rsource_typ]:checked").val()?$("#http-method-type").fadeOut("slow",function(){$("#xml-method-type").fadeIn("slow")}):$("#xml-method-type").fadeOut("slow",function(){$("#http-method-type").fadeIn("slow")})}),$("input[name=xml_typ], input[name=http_typ]").on("click",function(){var formName=$("#resource-method"),quitListening=function(){$("body").off("keypress"),$("#filter_btn").off("click"),isSet=!1};isSet||($("body").on("keypress",function(event){event.preventDefault(),function(event){(13==event.keyCode||13==event.which)&&formName.submit(),quitListening()}(event)}),isSet=!0)}),$("#show-list").on("click",function(){makeListRequest()}),$("#new-item-form").submit(function(e){var name,url,type,method,req;name=$("#i_name").val(),url=$("#i_url").val(),url_name=$("#i_url_name").val(),type=$("#i_type").val(),method=$("#i_method").val();var obj={req:req=$("input[name=protor]:checked").val(),name:name,url_name:url_name,url:url,type:type,method:method};e.preventDefault(),e.stopImmediatePropagation(),"add"===req&&""!==name?($.modal.close(),addItemRequest(""!==url?obj:{req:req,name:name})):"del"===req&&""!==name?(console.log(req+" "+name),$.modal.close(),sendRequest("/items",{req:req,name:name},function(response){var display=$("#display_tb"),res=response.data;console.dir(res),display.text("Go says: status ok")})):"modify"===req&&""!==name&&""!==url_name?($.modal.close(),addItemRequest(obj)):(alert("Please select all necessary fields."),console.log("required fields empty!"))}),$("a[data-modal]").click(function(event){var url,type,method,name="";return url=$("#inp_url").val(),name="xml"===(type=$("input[name=rsource_typ]:checked").val())?"xml_typ":"http_typ",method=$("input[name="+name+"]:checked").val(),$("#i_url").val(url),$("#i_type").val(type),$("#i_method").val(method),$(this).modal(),!1})});module.exports=ajax},{}]},{},[1]);
